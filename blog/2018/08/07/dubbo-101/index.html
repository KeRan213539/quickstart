<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Your First Dubbo Demo</title><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="en-us"><meta property="og:type" content="website"><meta property="og:site_name" content="Nacos"><meta property="og:title" content="Your First Dubbo Demo"><meta property="og:url" content="/blog/2018/08/07/dubbo-101/"><meta property="og:image" content="/images/"><meta name=twitter:title content="Nacos"><meta name=twitter:url content="/blog/2018/08/07/dubbo-101/"><meta name=twitter:image content="/images/"><meta name=twitter:card content><link rel=canonical href=/blog/2018/08/07/dubbo-101/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,600,400italic,700" rel=stylesheet type=text/css><link rel=stylesheet href=/css/leaflet.css><link rel=stylesheet href=/css/animate.css><link rel=stylesheet href=/css/icomoon.css><link rel=stylesheet href=/css/simple-line-icons.css><link rel=stylesheet href=/css/magnific-popup.css><link rel=stylesheet href=/css/bootstrap.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom1.css><link rel=stylesheet href=/css/custom2.css><link rel=stylesheet href=/css/font-awesome.min.css><script src=/js/modernizr-2.6.2.min.js></script><meta name=referrer content="no-referrer"><link rel="shortcut icon" href=https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png><script src=/js/jquery.min.js></script><script src=/js/jquery.easing.1.3.js></script><script src=/js/bootstrap.min.js></script><script src=/js/jquery.waypoints.min.js></script><script src=/js/jquery.stellar.min.js></script><script src=/js/jquery.countTo.js></script><script src=/js/jquery.magnific-popup.min.js></script><script src=/js/magnific-popup-options.js></script><script src=/js/main.js></script></head><body><header role=banner id=fh5co-header><div class=container><nav class="navbar navbar-default"><div class=navbar-header><a href=# class="js-fh5co-nav-toggle fh5co-nav-toggle" data-toggle=collapse data-target=#navbar aria-expanded=false aria-controls=navbar><i></i></a><a class=navbar-brand href=index.html><img id=nacosLogo src=/images/nacos.png></a></div><div id=navbar class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a class=external href=/><span>Home</span></a></li><li><a class=external href=/docs><span>Documentation</span></a></li><li class=active><a class=external href=/blog><span>Blog</span></a></li><li><a class=external href=/community><span>Community</span></a></li><li><a class=external href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0"><span>Naco In Cloud</span></a>
<img class=menu-img src=https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png></li><li><a class=external href=http://console.nacos.io/nacos/index.html><span>Demo-Console</span></a></li><li><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
<span class=caret></span></button><ul class=dropdown-menu><li><a class=external href=/zh/blog/2018/08/07/dubbo-101/>中文</a></li></ul></div></li><li><div class=navbar-nav><input type=search class="form-control nav-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off>
<script src=https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js></script><link href=https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.css rel=stylesheet><script>docsearch({appId:"3CRHI0VEW6",apiKey:"e7b36bd85080f2bcfb9de34adc766043",indexName:"nacos_test",algoliaOptions:{hitsPerPage:3},inputSelector:'.nav-search-input',debug:false});</script></div></li></ul></div></nav></div></header><section class=animated><div class="col-md-2 blogDocSidebar"><a href=# id=sidebarConsoleBtn><i class="fa fa-bars fa-fw"></i></a><div id=sidebarContent><ul><li><a href=/blog/>Blog</a></li><ul><li class="collapse show" id=blog><ul><li><a class=active href=/blog/news/>Articles</a></li><ul><li class="collapse show" id=blognews><a id=m-blog20190826service-test href=/blog/2019/08/26/service-test/>Service test in dubbo admin</a>
<a id=m-blog20190811tracing-dubbo-service-with-apache-skywalking href=/blog/2019/08/11/tracing-dubbo-service-with-apache-skywalking/>Use apache skywalking in dubbo</a>
<a id=m-blog20190502dubbo-extensible-mechanism-source-code-analysis-part-2 href=/blog/2019/05/02/dubbo-extensible-mechanism-source-code-analysis-part-2/>Dubbo extensible mechanism - part 2</a>
<a id=m-blog20190425dubbo-extensible-mechanism-source-code-analysis-part-1 href=/blog/2019/04/25/dubbo-extensible-mechanism-source-code-analysis-part-1/>Dubbo extensible mechanism - part 1</a>
<a id=m-blog20190220implementation-background-and-practice-of-dubbo-client-asynchronous-interface href=/blog/2019/02/20/implementation-background-and-practice-of-dubbo-client-asynchronous-interface/>Dubbo Async Client</a>
<a id=m-blog20190220implementation-background-and-practice-of-dubbo-server-asynchronous-interface href=/blog/2019/02/20/implementation-background-and-practice-of-dubbo-server-asynchronous-interface/>Dubbo Async Server</a>
<a id=m-blog20190117how-to-use-seata-to-ensure-consistency-between-dubbo-microservices href=/blog/2019/01/17/how-to-use-seata-to-ensure-consistency-between-dubbo-microservices/>Use Seata in Dubbo</a>
<a id=m-blog20181210the-fifth-dubbo-meetup-has-been-held-in-hangzhou href=/blog/2018/12/10/the-fifth-dubbo-meetup-has-been-held-in-hangzhou/>The fifth Dubbo meetup</a>
<a id=m-blog20181107dubbo-integrates-with-nacos-to-become-a-registry href=/blog/2018/11/07/dubbo-integrates-with-nacos-to-become-a-registry/>Use Dubbo with Nacos</a>
<a id=m-blog20181005introduction-to-the-dubbo-protocol href=/blog/2018/10/05/introduction-to-the-dubbo-protocol/>Introduction to the Dubbo protocol</a>
<a id=m-blog20180930integrate-dubbo-with-kubernetes href=/blog/2018/09/30/integrate-dubbo-with-kubernetes/>Integrate Dubbo with Kubernetes</a>
<a id=m-blog20180902how-to-prepare-an-apache-release href=/blog/2018/09/02/how-to-prepare-an-apache-release/>How to prepare an Apache Release</a>
<a id=m-blog20180902how-to-implement-a-fully-asynchronous-calls-chain-based-on-dubbo href=/blog/2018/09/02/how-to-implement-a-fully-asynchronous-calls-chain-based-on-dubbo/>New Async Call</a>
<a id=m-blog20180826the-fourth-dubbo-meetup-has-been-held-in-chengdu href=/blog/2018/08/26/the-fourth-dubbo-meetup-has-been-held-in-chengdu/>The fourth Dubbo meetup</a>
<a id=m-blog20180814dubbo-basic-usage-dubbo-consumer-configuration href=/blog/2018/08/14/dubbo-basic-usage-dubbo-consumer-configuration/>Dubbo Consumer Configuration</a>
<a id=m-blog20180814dubbo-several-ways-about-synchronousasynchronous-invoke href=/blog/2018/08/14/dubbo-several-ways-about-synchronous/asynchronous-invoke/>Dubbo Invoke</a>
<a id=m-blog20180814dubbo-basic-usage-dubbo-provider-configuration href=/blog/2018/08/14/dubbo-basic-usage-dubbo-provider-configuration/>Dubbo Provider Configuration</a>
<a id=m-blog20180814manipulating-services-dynamically-via-qos href=/blog/2018/08/14/manipulating-services-dynamically-via-qos/>Dubbo QoS Introduction</a>
<a id=m-blog20180814source-code-analysis-of-spring-boot-dubbo-app-start-and-stop href=/blog/2018/08/14/source-code-analysis-of-spring-boot-dubbo-app-start-and-stop/>Dubbo start/stop in spring boot</a>
<a id=m-blog20180814implementation-of-cross-language-calls-by-dubbo2js href=/blog/2018/08/14/implementation-of-cross-language-calls-by-dubbo2.js/>dubbo2.js introduction</a>
<a id=m-blog20180814generic-invoke-of-dubbo href=/blog/2018/08/14/generic-invoke-of-dubbo/>Generic invoke</a>
<a id=m-blog20180810dubbos-load-balance href=/blog/2018/08/10/dubbos-load-balance/>Dubbo's Load Balance</a>
<a id=m-blog20180807use-annotations-in-dubbo href=/blog/2018/08/07/use-annotations-in-dubbo/>Use Annotations In Dubbo</a>
<a id=m-blog20180807using-zookeeper-in-dubbo href=/blog/2018/08/07/using-zookeeper-in-dubbo/>Using Zookeeper in Dubbo</a>
<a id=m-blog20180807dubbo-101 class=active2 href=/blog/2018/08/07/dubbo-101/>Your First Dubbo Demo</a>
<a id=m-blog20180730the-third-dubbo-meetup-has-been-held-in-shenzhen href=/blog/2018/07/30/the-third-dubbo-meetup-has-been-held-in-shenzhen/>The third Dubbo meetup</a>
<a id=m-blog20180727sentinel-the-flow-sentinel-of-dubbo-services href=/blog/2018/07/27/sentinel-the-flow-sentinel-of-dubbo-services/>Introduce sentinel</a>
<a id=m-blog20180712tracking-with-pinpoint href=/blog/2018/07/12/tracking-with-pinpoint/>Tracking with Pinpoint</a>
<a id=m-blog20180701your-first-dubbo-filter href=/blog/2018/07/01/your-first-dubbo-filter/>Your First Dubbo Filter</a>
<a id=m-blog20180623the-second-dubbo-shanghai-meetup-has-been-held-successfully href=/blog/2018/06/23/the-second-dubbo-shanghai-meetup-has-been-held-successfully/>The second Dubbo meetup</a>
<a id=m-blog20180512the-first-dubbo-meetup-has-been-held-in-beijing href=/blog/2018/05/12/the-first-dubbo-meetup-has-been-held-in-beijing/>The first Dubbo meetup</a>
<a id=m-blog20180502the-apachecon-na-schedule-has-been-announced href=/blog/2018/05/02/the-apachecon-na-schedule-has-been-announced/>ApacheCon NA</a>
<a id=m-blog20180425the-gsocgoogle-summer-of-code-2018 href=/blog/2018/04/25/the-gsocgoogle-summer-of-code-2018/>GSoC 2018</a>
<a id=m-blog20180422dubbo-roadmap-is-announced-in-qcon-beijing-2018 href=/blog/2018/04/22/dubbo-roadmap-is-announced-in-qcon-beijing-2018/>QCon Beijing 2018</a></li></ul></ul><ul><li><a href=/blog/releases/>Releases</a></li><ul><li class=collapse id=blogreleases><a id=m-blog20200518past-releases href=/blog/2020/05/18/past-releases/>Past Releases</a></li></ul></ul></li></ul></ul></div><script>$(function(){$("#sidebarConsoleBtn").click(function(){$("#sidebarContent").toggle();});});</script></div><div class="col-md-2 blogDocToc"><div class=td-page-meta><a href="https://github.com/nacos-group/nacos-group.github.io/issues/new?title=Your%20First%20Dubbo%20Demo" target=_blank><i class="fa fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/alibaba/nacos/issues/new target=_blank><i class="fa fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><a href=#java-rmi-introduction>Java RMI Introduction</a><ul><li><a href=#java-rmi-work-flow>Java RMI Work Flow</a></li><li><a href=#java-rmi-concepts>Java RMI Concepts</a></li></ul></li><li><a href=#basic-concepts-of-dubbo>Basic Concepts of Dubbo</a></li><li><a href=#dubbo-applications-based-on-api>Dubbo Applications Based on API</a><ul><li><a href=#define-service-contract>Define Service Contract</a></li><li><a href=#provide-contract-implementation>Provide Contract Implementation</a></li><li><a href=#implement-dubbo-service-provider>Implement Dubbo Service Provider</a></li><li><a href=#implement-dubbo-service-consumer>Implement Dubbo Service Consumer</a></li><li><a href=#run>Run</a></li></ul></li><li><a href=#quick-creation-of-a-dubbo-application>Quick Creation of A Dubbo Application</a><ul><li><a href=#run-1>Run</a></li><li><a href=#manage-service-by-telnet>Manage service by Telnet</a></li></ul></li><li><a href=#summary>Summary</a></li></ul></nav></div><div class=row><div class=col-md-2></div><div class="col-md-8 blogDocContent"><main role=main><a class="btn btn-lg rssIcon" href=/blog/news/index.xml target=_blank>RSS <i class="fa fa-rss ml-2"></i></a><div class=row><div class=col-md-2><ul></ul></div><div class=col-md-10></div></div><div class=td-content><h1>Your First Dubbo Demo</h1><div class=lead>Modern distributed frameworks is similiar to RMI in terms of concepts. They both use Java interface as a service contract, archive service registry and discovery by a registry center, and Shield communication details by a proxy.</div><div class="td-byline mb-4"><time datetime=2018-08-07 class=text-muted>Tuesday, August 07, 2018</time></div><h2 id=java-rmi-introduction>Java RMI Introduction</h2><p>Java RMI (Remote Method Invocation) is a mechanism that allows users to access or invocate an object and a method running on another JVM (Java Virtual Machine). RMI is an implementation of RPC (Remote Procedure Call) in java with support of OOP (Object Oriented Paradigms). Instead of bothering IDL (Interface Define Language), users can build distributed applications by depending on interfaces in an easy and natural way.</p><h3 id=java-rmi-work-flow>Java RMI Work Flow</h3><p>Here is how a typical RMI invocation usually works:</p><ol><li>The server registers service from RMI and binds its address.</li><li>The client registers service from RMI and obtains target address.</li><li>The client invokes methods of local stub object in the same way of invoking other local objects.</li><li>Local stub object zips invoking information and send it to the server via network.</li><li>The Skeleton object of server receives the network request and unzips the information.</li><li>Server runs invocation on the target object based on the information and return the zipped results back to client via network.</li></ol><p><img src=/imgs/blog/rmi-flow.png alt="RMI Flow"></p><p>(source：https://www.cs.rutgers.edu/~pxk/417/notes/images/rpc-rmi_flow.png)</p><h3 id=java-rmi-concepts>Java RMI Concepts</h3><p>Java RMI is a technique foundation stone of creating distributed applications in Java. The following EJB techniques and current framework of distributed services still inherit the fundamental concepts of Java RMI. In RMI invocation, there are some core concepts：</p><ol><li>The invocation is run remotely on <strong>interface</strong>.</li><li>Disguise remote invocation as local invocation by <strong>Stub object</strong> on client and <strong>Skeleton object</strong> on server.</li><li>The service is registered and looked up by <strong>RMI</strong> registry service.</li></ol><p>For 1. users are dependent on interfaces which should be implemented by server.</p><p>For 2. In J2SE 1.5 version and before, it needs to pre-compile Stub on client and Skeleton on server by rmic. In the later versions there is no need to do so.</p><p>The following is a code example of registry and look-up in RMI.</p><h4 id=server-service-registry>Server service registry</h4><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Hello obj <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> HelloImpl<span style=color:#719e07>();</span> <span style=color:#586e75>// #1
</span><span style=color:#586e75></span>Hello stub <span style=color:#719e07>=</span> <span style=color:#719e07>(</span>Hello<span style=color:#719e07>)</span> UnicastRemoteObject<span style=color:#719e07>.</span>exportObject<span style=color:#719e07>(</span>obj<span style=color:#719e07>,</span> 0<span style=color:#719e07>);</span> <span style=color:#586e75>// #2
</span><span style=color:#586e75></span>Registry registry <span style=color:#719e07>=</span> LocateRegistry<span style=color:#719e07>.</span>createRegistry<span style=color:#719e07>(</span>1099<span style=color:#719e07>);</span> <span style=color:#586e75>// #3
</span><span style=color:#586e75></span>registry<span style=color:#719e07>.</span>rebind<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Hello&#34;</span><span style=color:#719e07>,</span> stub<span style=color:#719e07>);</span> <span style=color:#586e75>// #4
</span></code></pre></div><p>Notes:</p><ol><li><p>Initiate service object instance.</p></li><li><p>Create stub object to communicate with the server by UnicastRemoteObject.exportObject.</p></li><li><p>Create a local RMI registry service on port 1099 which is run on server. It can also be registered as an independent process.</p></li><li><p>Bind stub object into registry so the client can find the remote object by looking up Hello.</p></li></ol><h4 id=client-service-look-up>Client service look-up</h4><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Registry registry <span style=color:#719e07>=</span> LocateRegistry<span style=color:#719e07>.</span>getRegistry<span style=color:#719e07>();</span> <span style=color:#586e75>// #1
</span><span style=color:#586e75></span>Hello stub <span style=color:#719e07>=</span> <span style=color:#719e07>(</span>Hello<span style=color:#719e07>)</span> registry<span style=color:#719e07>.</span>lookup<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;Hello&#34;</span><span style=color:#719e07>);</span> <span style=color:#586e75>// #2
</span><span style=color:#586e75></span>String response <span style=color:#719e07>=</span> stub<span style=color:#719e07>.</span>sayHello<span style=color:#719e07>();</span> <span style=color:#586e75>// #3
</span></code></pre></div><p>Notes:</p><ol><li>Acquire registry service instances. In this case, there is no input parameters so it is assumed that the acquired instance is located on port 1099.</li><li>Look up the remote object named Hello in registry service.</li><li>Run a RMI invocation via acquired Stub object and get results.
Understand the work flow and basic concepts of RMI is helpful to handle current framework of distributed service. It is recommended to refer to RMI official documents for further information[^1].</li></ol><h2 id=basic-concepts-of-dubbo>Basic Concepts of Dubbo</h2><p>The basic concepts of current framework of distributed service is similar to the one of RMI. They both use Java interface as service contract, register and look up by registry center and use agency to block the details of remote communications. Specifically, Dubbo has following four types of roles to play when running：</p><ol><li>Serve the provider – Expose service at assigned ports at initialization and register the service address and ports at registry center</li><li>Serve the consumer – Subscribe the service of interests at registry center at initialization to acquire the list of addresses provided by the service provider.</li><li>Registry center – Register and look up service. Store the address provided by the service provider and send it to the consumer.</li><li>Monitor center – Collect and monitor running status of providers and consumers, e.g., times of invocations, delay of invocations, etc.</li><li>Running container – Initialize and load the provider and manage the lifecycle of running.</li></ol><p><img src=../../img/blog/dubbo-architecture.png alt=dubbo-architecture></p><p><strong>Deploy stage</strong></p><ul><li>Service providers expose service at assigned ports and register information of service at registry center.</li><li>Service consumers subscribe the list of service addresses from registry center.</li></ul><p><strong>Run stage</strong></p><ul><li>Registry center sends the address to service consumers.</li><li>After receiving the list of addresses, service consumers select one of them and invoke an object service.</li><li>During invocation, the running status of service providers and consumers is reported to the monitor center.</li></ul><h2 id=dubbo-applications-based-on-api>Dubbo Applications Based on API</h2><p>The applications of Dubbo are usually assembled by Spring. To obtain an available Dubbo application quickly, the example shown here abandons complex configurations but to create service provider and consumer in Dubbo API oriented way. Additionally, the registry center and monitor center do not need installation or configuration in this example.</p><p>In production environment, the service of Dubbo usually requires cooperation with a distributed service registry center, such as ZooKeeper. For convenience, Dubbo offers two ways to avoid extra work of building registry center, namely direct connection [2] and assembled podcast [3] respectively. In this example, the latter way is applied to register and look up service.</p><h3 id=define-service-contract>Define Service Contract</h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>interface</span> <span style=color:#268bd2>GreetingsService</span> <span style=color:#719e07>{</span>
    String <span style=color:#268bd2>sayHi</span><span style=color:#719e07>(</span>String name<span style=color:#719e07>);</span> <span style=color:#586e75>// #1
</span><span style=color:#586e75></span><span style=color:#719e07>}</span>
</code></pre></div><p><strong>Notes</strong>：</p><ol><li>The codes define a simple service contract where there is only one function, sayHi, can be invoked. The type of input parameter and return value are both String.</li></ol><h3 id=provide-contract-implementation>Provide Contract Implementation</h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>GreetingsServiceImpl</span> <span style=color:#268bd2>implements</span> GreetingsService <span style=color:#719e07>{</span> <span style=color:#586e75>// #1
</span><span style=color:#586e75></span>    <span style=color:#268bd2>@Override</span>
    <span style=color:#268bd2>public</span> String <span style=color:#268bd2>sayHi</span><span style=color:#719e07>(</span>String name<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        <span style=color:#719e07>return</span> <span style=color:#2aa198>&#34;hi, &#34;</span> <span style=color:#719e07>+</span> name<span style=color:#719e07>;</span> <span style=color:#586e75>// #2
</span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p><strong>Notes</strong>：</p><ol><li>Service providers need to implement the interface of service contract, GreetingsService.</li><li>This function simply returns a welcome message. For example, if the input value is <em>dubbo</em>，it will return <em>hi, dubbo</em>.</li></ol><h3 id=implement-dubbo-service-provider>Implement Dubbo Service Provider</h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>Application</span> <span style=color:#719e07>{</span>
    <span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#268bd2>throws</span> IOException <span style=color:#719e07>{</span>
        ServiceConfig<span style=color:#719e07>&lt;</span>GreetingsService<span style=color:#719e07>&gt;</span> service <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ServiceConfig<span style=color:#719e07>&lt;&gt;();</span> <span style=color:#586e75>// #1
</span><span style=color:#586e75></span>        service<span style=color:#719e07>.</span>setApplication<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ApplicationConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;first-dubbo-provider&#34;</span><span style=color:#719e07>));</span> <span style=color:#586e75>// #2
</span><span style=color:#586e75></span>        service<span style=color:#719e07>.</span>setRegistry<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RegistryConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;multicast://224.5.6.7:1234&#34;</span><span style=color:#719e07>));</span> <span style=color:#586e75>// #3
</span><span style=color:#586e75></span>        service<span style=color:#719e07>.</span>setInterface<span style=color:#719e07>(</span>GreetingsService<span style=color:#719e07>.</span>class<span style=color:#719e07>);</span> <span style=color:#586e75>// #4
</span><span style=color:#586e75></span>        service<span style=color:#719e07>.</span>setRef<span style=color:#719e07>(</span><span style=color:#719e07>new</span> GreetingsServiceImpl<span style=color:#719e07>());</span> <span style=color:#586e75>// #5
</span><span style=color:#586e75></span>        service<span style=color:#719e07>.</span>export<span style=color:#719e07>();</span> <span style=color:#586e75>// #6
</span><span style=color:#586e75></span>        System<span style=color:#719e07>.</span>in<span style=color:#719e07>.</span>read<span style=color:#719e07>();</span> <span style=color:#586e75>// #7
</span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p><strong>Notes</strong>：</p><ol><li>Create an instance <em>ServiceConfig</em> with service interface type as generics parameters, which is <em>GreetingsService</em> in this example.</li><li>Generate an instance of <em>ApplicationConfig</em> and assemble it into <em>ServiceConfig</em>.</li><li>Generate an instance <em>RegistryConfig</em> and assemble it into <em>ServiceConfig</em>. Since the assembled way is applied here, the parameter should be <code>multicast://224.5.6.7:1234</code>. The valid range of assembled address is <em>224.0.0.0 - 239.255.255.255</em></li><li>Assemble the service contract <em>GreetingsService</em> into <em>ServiceConfig</em>.</li><li>Assemble the instance with implementation of <em>GreetingsServicelmpl</em> provided by service providers into <em>ServiceConfig</em>.</li><li><em>ServiceConfig</em> starts to expose itself at default ports <em>20880</em>. after being equipped with enough information.</li><li>Press any key or <em>ctrl-C</em> to exit to avoid server halt.</li></ol><h3 id=implement-dubbo-service-consumer>Implement Dubbo Service Consumer</h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>Application</span> <span style=color:#719e07>{</span>
    <span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
        ReferenceConfig<span style=color:#719e07>&lt;</span>GreetingsService<span style=color:#719e07>&gt;</span> reference <span style=color:#719e07>=</span> <span style=color:#719e07>new</span> ReferenceConfig<span style=color:#719e07>&lt;&gt;();</span> <span style=color:#586e75>// #1
</span><span style=color:#586e75></span>        reference<span style=color:#719e07>.</span>setApplication<span style=color:#719e07>(</span><span style=color:#719e07>new</span> ApplicationConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;first-dubbo-client&#34;</span><span style=color:#719e07>));</span> <span style=color:#586e75>// #2
</span><span style=color:#586e75></span>        reference<span style=color:#719e07>.</span>setRegistry<span style=color:#719e07>(</span><span style=color:#719e07>new</span> RegistryConfig<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;multicast://224.5.6.7:1234&#34;</span><span style=color:#719e07>));</span> <span style=color:#586e75>// #3
</span><span style=color:#586e75></span>        reference<span style=color:#719e07>.</span>setInterface<span style=color:#719e07>(</span>GreetingsService<span style=color:#719e07>.</span>class<span style=color:#719e07>);</span> <span style=color:#586e75>// #4
</span><span style=color:#586e75></span>        GreetingsService greetingsService <span style=color:#719e07>=</span> reference<span style=color:#719e07>.</span>get<span style=color:#719e07>();</span> <span style=color:#586e75>// #5
</span><span style=color:#586e75></span>        String message <span style=color:#719e07>=</span> greetingsService<span style=color:#719e07>.</span>sayHi<span style=color:#719e07>(</span><span style=color:#2aa198>&#34;dubbo&#34;</span><span style=color:#719e07>);</span> <span style=color:#586e75>// #6
</span><span style=color:#586e75></span>        System<span style=color:#719e07>.</span>out<span style=color:#719e07>.</span>println<span style=color:#719e07>(</span>message<span style=color:#719e07>);</span> <span style=color:#586e75>// #7
</span><span style=color:#586e75></span>    <span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p><strong>Notes</strong>：</p><ol><li>Create an instance of <em>ReferenceConfig</em> with service interface type as generics parameters, which is <em>GreetingsService</em> in this example.</li><li>Create an instance of <em>ApplicationConfig</em>, and assemble it into <em>ReferenceConfig</em>.</li><li>Generate an instance <em>RegistryConfig</em>, and assemble it into <em>ReferenceConfig</em>. Note that the address information here should be the same as the one of the service provider.</li><li>Assemble the service contract <em>GreetingsService</em> into <em>ReferenceConfig</em>.</li><li>Obtain the agency of <em>GreetingsService</em> from <em>ReferenceConfig</em>.</li><li>Invoke a remote call through <em>GreetingsSerive</em>’s agency and pass in <code>dubbo</code> as input parameter.</li><li>Return and print results <code>hi, dubbo</code>.</li></ol><h3 id=run>Run</h3><p>The complete example can be found at <a href=https://github.com/apache/dubbo-samples/tree/master/java/dubbo-samples-api>https://github.com/apache/dubbo-samples/tree/master/java/dubbo-samples-api</a>. In the complete version, it is convenient to execute by maven in command line with the configuration of <em>exec-maven-plugin</em>. Of course, it can also be executed directly in IDE. However, there is one noteworthy thing that because of using assembled way to look up service, it needs to assign <em>-Djava.net.preferIPv4Stack=true</em> when running.</p><h4 id=build-example>Build Example</h4><p>Synchronize the example codes and build by the following command lines:</p><ol><li>Synchronize the example codes: git clone <a href=https://github.com/apache/dubbo-samples.git>https://github.com/apache/dubbo-samples.git</a></li><li>Build：mvn clean package</li></ol><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ git clone https://github.com/apache/dubbo-samples.git
$ <span style=color:#b58900>cd</span> dubbo-samples/java/dubbo-samples-api/
$ mvn clean package
INFO<span style=color:#719e07>]</span> Scanning <span style=color:#719e07>for</span> projects...
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span>
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Building dubbo-samples-api 1.0-SNAPSHOT
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span>
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> --- maven-clean-plugin:2.5:clean <span style=color:#719e07>(</span>default-clean<span style=color:#719e07>)</span> @ dubbo-samples-api ---
...
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> BUILD SUCCESS
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Total time: 2.182 s
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Finished at: 2018-05-28T14:56:08+08:00
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Final Memory: 20M/353M
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
</code></pre></div><p>The build is finished when it shows <code>BUILD SUCCESS</code>. Then comes the running stage.</p><h4 id=run-the-server>Run the server</h4><p>Run the service provider by the following maven command lines:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ mvn -Djava.net.preferIPv4Stack<span style=color:#719e07>=</span><span style=color:#b58900>true</span> -Dexec.mainClass<span style=color:#719e07>=</span>org.apache.dubbo.samples.provider.Application exec:java
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Scanning <span style=color:#719e07>for</span> projects...
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span>                                                                         
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Building dubbo-samples-api 1.0-SNAPSHOT
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span>
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> --- exec-maven-plugin:1.6.0:java <span style=color:#719e07>(</span>default-cli<span style=color:#719e07>)</span> @ dubbo-samples-api ---
log4j:WARN No appenders could be found <span style=color:#719e07>for</span> logger <span style=color:#719e07>(</span>org.apache.dubbo.common.logger.LoggerFactory<span style=color:#719e07>)</span>.
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig <span style=color:#719e07>for</span> more info.
first-dubbo-provider is running.
</code></pre></div><p>When <em>first-dubbo-provider is running</em> appears, the service provider is ready to be called by the client.</p><h4 id=run-the-client>Run the client</h4><p>Run the service consumer by the following maven command lines:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ mvn -Djava.net.preferIPv4Stack<span style=color:#719e07>=</span><span style=color:#b58900>true</span> -Dexec.mainClass<span style=color:#719e07>=</span>org.apache.dubbo.samples.consumer.Application exec:java
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Scanning <span style=color:#719e07>for</span> projects...
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span>                                                                         
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> Building dubbo-samples-api 1.0-SNAPSHOT
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> ------------------------------------------------------------------------
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span>
<span style=color:#719e07>[</span>INFO<span style=color:#719e07>]</span> --- exec-maven-plugin:1.6.0:java <span style=color:#719e07>(</span>default-cli<span style=color:#719e07>)</span> @ dubbo-samples-api ---
log4j:WARN No appenders could be found <span style=color:#719e07>for</span> logger <span style=color:#719e07>(</span>org.apache.dubbo.common.logger.LoggerFactory<span style=color:#719e07>)</span>.
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig <span style=color:#719e07>for</span> more info.
hi, dubbo
</code></pre></div><p><code>hi, dubbo</code> is the execution results from service provider.</p><h2 id=quick-creation-of-a-dubbo-application>Quick Creation of A Dubbo Application</h2><p>Dubbo also provides a public platform that can create a Dubbo application quickly based on Spring Boot. Visit <a href=http://start.dubbo.io>http://start.dubbo.io</a> and follow the figure below to create an example project:</p><p><img src=../../img/blog/dubbo-initializr.png alt="dubbo initializr"></p><p><strong>Notes</strong>：</p><ol><li>Provide maven groupId in <em>Group</em> with default value <code>com.example</code>.</li><li>Provide maven artifactId in <em>Artifact</em> with default value <code>demo</code>.</li><li>Provide the name of service in <em>DubboServiceName</em> with default value <code>com.example.HelloService</code>.</li><li>Provide the version of service in <em>DubboServiceVersion</em> with default value <code>1.0.0</code>.</li><li>Choose server or client in <em>Client/Server</em> with default value <code>server</code>.</li><li><em>embeddedZookeeper</em> is selected by default as service registry look up.</li><li>qos ports activation is not selected by default but if it is, it can be accessed by port <em>22222</em>.</li><li>Click <em>Generate Project</em> to download the generated project.</li></ol><p>This example shows how to generate a server. Similarly, it can generate a <em>client</em> by selecting client on the generation interface.</p><h3 id=run-1>Run</h3><p>Open the generated project with an IDE and to see the application is a typical Spring Boot application with the following program entry:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#268bd2>@SpringBootApplication</span>
<span style=color:#268bd2>public</span> <span style=color:#268bd2>class</span> <span style=color:#268bd2>DemoApplication</span> <span style=color:#719e07>{</span>
	<span style=color:#268bd2>public</span> <span style=color:#268bd2>static</span> <span style=color:#dc322f>void</span> <span style=color:#268bd2>main</span><span style=color:#719e07>(</span>String<span style=color:#719e07>[]</span> args<span style=color:#719e07>)</span> <span style=color:#719e07>{</span>
		<span style=color:#719e07>new</span> EmbeddedZooKeeper<span style=color:#719e07>(</span>2181<span style=color:#719e07>,</span> <span style=color:#cb4b16>false</span><span style=color:#719e07>).</span>start<span style=color:#719e07>();</span>  <span style=color:#586e75>// #1
</span><span style=color:#586e75></span>		SpringApplication<span style=color:#719e07>.</span>run<span style=color:#719e07>(</span>DemoApplication<span style=color:#719e07>.</span>class<span style=color:#719e07>,</span> args<span style=color:#719e07>);</span> <span style=color:#586e75>// #2
</span><span style=color:#586e75></span>	<span style=color:#719e07>}</span>
<span style=color:#719e07>}</span>
</code></pre></div><p><strong>Notes</strong>：</p><ol><li>Launch embedded <em>ZooKeeper</em> on port <em>2181</em>.</li><li>Launch the context of <em>Spring Boot</em>.</li></ol><p>Run it directly in IDE and here are the results:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>2018-05-28 16:59:38.072  INFO <span style=color:#2aa198>59943</span> --- <span style=color:#719e07>[</span>           main<span style=color:#719e07>]</span> a.b.d.c.e.WelcomeLogoApplicationListener :

  ████████▄  ███    █▄  ▀█████████▄  ▀█████████▄   ▄██████▄  
  ███   ▀███ ███    ███   ███    ███   ███    ███ ███    ███
  ███    ███ ███    ███   ███    ███   ███    ███ ███    ███
  ███    ███ ███    ███  ▄███▄▄▄██▀   ▄███▄▄▄██▀  ███    ███
  ███    ███ ███    ███ ▀▀███▀▀▀██▄  ▀▀███▀▀▀██▄  ███    ███
  ███    ███ ███    ███   ███    ██▄   ███    ██▄ ███    ███
  ███   ▄███ ███    ███   ███    ███   ███    ███ ███    ███
  ████████▀  ████████▀  ▄█████████▀  ▄█████████▀   ▀██████▀  


 :: Dubbo Spring Boot <span style=color:#719e07>(</span>v0.1.0<span style=color:#719e07>)</span> : https://github.com/dubbo/dubbo-spring-boot-project
 :: Dubbo <span style=color:#719e07>(</span>v2.0.1<span style=color:#719e07>)</span> : https://github.com/alibaba/dubbo
 :: Google group : http://groups.google.com/group/dubbo

2018-05-28 16:59:38.079  INFO <span style=color:#2aa198>59943</span> --- <span style=color:#719e07>[</span>           main<span style=color:#719e07>]</span> e.OverrideDubboConfigApplicationListener : Dubbo Config was overridden by externalized configuration <span style=color:#719e07>{</span>dubbo.application.name<span style=color:#719e07>=</span>dubbo-demo-server, dubbo.application.qosAcceptForeignIp<span style=color:#719e07>=</span>false, dubbo.application.qosEnable<span style=color:#719e07>=</span>true, dubbo.application.qosPort<span style=color:#719e07>=</span>22222, dubbo.registry.address<span style=color:#719e07>=</span>zookeeper://localhost:2181?client<span style=color:#719e07>=</span>curator, dubbo.registry.id<span style=color:#719e07>=</span>my-registry, dubbo.scan.basePackages<span style=color:#719e07>=</span>com.example<span style=color:#719e07>}</span> <span style=color:#586e75>#1</span>

...

2018-05-28 16:59:39.624  INFO <span style=color:#2aa198>59943</span> --- <span style=color:#719e07>[</span>           main<span style=color:#719e07>]</span> com.example.demo.DemoApplication         : Started DemoApplication in 1.746 seconds <span style=color:#719e07>(</span>JVM running <span style=color:#719e07>for</span> 2.963<span style=color:#719e07>)</span>
</code></pre></div><p><strong>Notes</strong>：</p><ol><li>In the printouts, the configuration starting with <code>dubbo.</code> Is defined in <em>main/resources/application.properties</em>.</li></ol><h3 id=manage-service-by-telnet>Manage service by Telnet</h3><p>If <em>qos</em> is activated during generation, the service can be watched and managed by <em>telnet</em> or <em>nc</em>.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ telnet localhost <span style=color:#2aa198>22222</span>
Trying 127.0.0.1...
Connected to localhost.
Escape character is <span style=color:#2aa198>&#39;^]&#39;</span>.
  ████████▄  ███    █▄  ▀█████████▄  ▀█████████▄   ▄██████▄  
  ███   ▀███ ███    ███   ███    ███   ███    ███ ███    ███
  ███    ███ ███    ███   ███    ███   ███    ███ ███    ███
  ███    ███ ███    ███  ▄███▄▄▄██▀   ▄███▄▄▄██▀  ███    ███
  ███    ███ ███    ███ ▀▀███▀▀▀██▄  ▀▀███▀▀▀██▄  ███    ███
  ███    ███ ███    ███   ███    ██▄   ███    ██▄ ███    ███
  ███   ▄███ ███    ███   ███    ███   ███    ███ ███    ███
  ████████▀  ████████▀  ▄█████████▀  ▄█████████▀   ▀██████▀  


dubbo&gt;
dubbo&gt;ls
As Provider side:
+------------------------------+---+
|     Provider Service Name    |PUB|
+------------------------------+---+
|com.example.HelloService:1.0.0| Y |
+------------------------------+---+
As Consumer side:
+---------------------+---+
|Consumer Service Name|NUM|
+---------------------+---+
</code></pre></div><p>Currently, <em>qos</em> supports following command lines. For more information please refer to the official document. [^4]:</p><ul><li><em>ls</em>：List the information of client and server.</li><li><em>online</em>：Bring the service online.</li><li><em>offline</em>：Bring the service offline.</li><li><em>help</em>：View online help.</li></ul><h2 id=summary>Summary</h2><p>In this tutorial, we start with RMI and introduce the basic concepts in Java distributed invocations. Based on interface programming, it disguises remote calls as local by agency and run the service registry and looking up by registry center.</p><p>Then for simplicity, we introduce how to develop a complete Dubbo demo in an easy way of assembled registry and direct Dubbo API oriented programming. Additionally, we look into the usage of <em>ServiceConfig</em> and <em>RefenceConfig</em>, which is of great help for further using Spring XML configuration and the programming pattern of Spring Boot.</p><p>Eventually, we give an outline of how to create a Dubbo application quickly based on Spring Boot using the public resources, start.dubbo.io, provided by the Dubbo development team and operate and maintain the Dubbo service by <em>qos</em>.</p><hr><ol><li><a href=https://docs.oracle.com/javase/6/docs/technotes/guides/rmi/hello/hello-world.html>Getting Started Using JavaTM RMI</a></li><li><a href=http://dubbo.apache.org/en-us/docs/user/demos/explicit-target.html>Explicit target</a></li><li><a href=http://dubbo.apache.org/en-us/docs/user/references/registry/multicast.html>Multicast Registry</a></li><li><a href=http://dubbo.apache.org/en-us/docs/user/references/qos.html>Online QOS command</a></li></ol></div></main></div><div class=col-md-2></div></div></section><footer id=footer role=contentinfo><div class=container><img src=/images/nacos_gray.png><div class=row><div class=col-md-6><h3>Vision</h3><p>By providing an easy-to-use service infrastructure such as dynamic service
discovery, service configuration, service sharing and management and etc., Nacos help users better
construct, deliver and manage their own service platform, reuse and composite business service
faster and deliver value of business innovation more quickly so as to win market for users in the
era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class=col-md-3><dl><dt>Documentation</dt><dd><a href=/en-us/docs/what-is-nacos.html target=_self>Overview</a></dd><dd><a href=/en-us/docs/quick-start.html target=_self>Quick start</a></dd><dd><a href=/en-us/docs/contributing.html target=_self>Developer guide</a></dd></dl></div><div class=col-md-3><dl><dt>Resources</dt><dd><a href=/en-us/community/index.html target=_self>Community</a></dd><dd><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target=_self>Cloud Service MSE</a></dd><dd><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target=_self>Cloud Service EDAS</a></dd><dd><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target=_self>Cloud Service AHAS</a></dd></dl></div></div><div class="col-md-12 text-center copyright"><span>© 2018 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></body><script type=text/javascript>;(function(){$('#fh5co-header').addClass('navbar-fixed-top fh5co-animated slideInDown');$('#nacosLogo').attr("src","/images/nacos_colorful.png")}());</script></html>