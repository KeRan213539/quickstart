<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Dubbo Basic Usage -- Dubbo Provider Configuration</title><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=content-language content="en-us"><meta property="og:type" content="website"><meta property="og:site_name" content="Nacos"><meta property="og:title" content="Dubbo Basic Usage -- Dubbo Provider Configuration"><meta property="og:url" content="/blog/2018/08/14/dubbo-basic-usage-dubbo-provider-configuration/"><meta property="og:image" content="/images/"><meta name=twitter:title content="Nacos"><meta name=twitter:url content="/blog/2018/08/14/dubbo-basic-usage-dubbo-provider-configuration/"><meta name=twitter:image content="/images/"><meta name=twitter:card content><link rel=canonical href=/blog/2018/08/14/dubbo-basic-usage-dubbo-provider-configuration/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,600,400italic,700" rel=stylesheet type=text/css><link rel=stylesheet href=/css/leaflet.css><link rel=stylesheet href=/css/animate.css><link rel=stylesheet href=/css/icomoon.css><link rel=stylesheet href=/css/simple-line-icons.css><link rel=stylesheet href=/css/magnific-popup.css><link rel=stylesheet href=/css/bootstrap.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom1.css><link rel=stylesheet href=/css/custom2.css><link rel=stylesheet href=/css/font-awesome.min.css><script src=/js/modernizr-2.6.2.min.js></script><meta name=referrer content="no-referrer"><link rel="shortcut icon" href=https://img.alicdn.com/tfs/TB1hgJpHAPoK1RjSZKbXXX1IXXa-64-64.png><script src=/js/jquery.min.js></script><script src=/js/jquery.easing.1.3.js></script><script src=/js/bootstrap.min.js></script><script src=/js/jquery.waypoints.min.js></script><script src=/js/jquery.stellar.min.js></script><script src=/js/jquery.countTo.js></script><script src=/js/jquery.magnific-popup.min.js></script><script src=/js/magnific-popup-options.js></script><script src=/js/main.js></script></head><body><header role=banner id=fh5co-header><div class=container><nav class="navbar navbar-default"><div class=navbar-header><a href=# class="js-fh5co-nav-toggle fh5co-nav-toggle" data-toggle=collapse data-target=#navbar aria-expanded=false aria-controls=navbar><i></i></a><a class=navbar-brand href=index.html><img id=nacosLogo src=/images/nacos.png></a></div><div id=navbar class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"><li><a class=external href=/><span>Home</span></a></li><li><a class=external href=/docs><span>Documentation</span></a></li><li class=active><a class=external href=/blog><span>Blog</span></a></li><li><a class=external href=/community><span>Community</span></a></li><li><a class=external href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0"><span>Naco In Cloud</span></a>
<img class=menu-img src=https://img.alicdn.com/tfs/TB1esl_m.T1gK0jSZFrXXcNCXXa-200-200.png></li><li><a class=external href=http://console.nacos.io/nacos/index.html><span>Demo-Console</span></a></li><li><div class=dropdown><button class="btn btn-default dropdown-toggle" type=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
<span class=caret></span></button><ul class=dropdown-menu><li><a class=external href=/zh/blog/2018/08/14/dubbo-%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95-provider-%E9%85%8D%E7%BD%AE/>中文</a></li></ul></div></li><li><div class=navbar-nav><input type=search class="form-control nav-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete=off>
<script src=https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.js></script><link href=https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.css rel=stylesheet><script>docsearch({appId:"3CRHI0VEW6",apiKey:"e7b36bd85080f2bcfb9de34adc766043",indexName:"nacos_test",algoliaOptions:{hitsPerPage:3},inputSelector:'.nav-search-input',debug:false});</script></div></li></ul></div></nav></div></header><section class=animated><div class="col-md-2 blogDocSidebar"><a href=# id=sidebarConsoleBtn><i class="fa fa-bars fa-fw"></i></a><div id=sidebarContent><ul><li><a href=/blog/>Blog</a></li><ul><li class="collapse show" id=blog><ul><li><a class=active href=/blog/news/>Articles</a></li><ul><li class="collapse show" id=blognews><a id=m-blog20190826service-test href=/blog/2019/08/26/service-test/>Service test in dubbo admin</a>
<a id=m-blog20190811tracing-dubbo-service-with-apache-skywalking href=/blog/2019/08/11/tracing-dubbo-service-with-apache-skywalking/>Use apache skywalking in dubbo</a>
<a id=m-blog20190502dubbo-extensible-mechanism-source-code-analysis-part-2 href=/blog/2019/05/02/dubbo-extensible-mechanism-source-code-analysis-part-2/>Dubbo extensible mechanism - part 2</a>
<a id=m-blog20190425dubbo-extensible-mechanism-source-code-analysis-part-1 href=/blog/2019/04/25/dubbo-extensible-mechanism-source-code-analysis-part-1/>Dubbo extensible mechanism - part 1</a>
<a id=m-blog20190220implementation-background-and-practice-of-dubbo-client-asynchronous-interface href=/blog/2019/02/20/implementation-background-and-practice-of-dubbo-client-asynchronous-interface/>Dubbo Async Client</a>
<a id=m-blog20190220implementation-background-and-practice-of-dubbo-server-asynchronous-interface href=/blog/2019/02/20/implementation-background-and-practice-of-dubbo-server-asynchronous-interface/>Dubbo Async Server</a>
<a id=m-blog20190117how-to-use-seata-to-ensure-consistency-between-dubbo-microservices href=/blog/2019/01/17/how-to-use-seata-to-ensure-consistency-between-dubbo-microservices/>Use Seata in Dubbo</a>
<a id=m-blog20181210the-fifth-dubbo-meetup-has-been-held-in-hangzhou href=/blog/2018/12/10/the-fifth-dubbo-meetup-has-been-held-in-hangzhou/>The fifth Dubbo meetup</a>
<a id=m-blog20181107dubbo-integrates-with-nacos-to-become-a-registry href=/blog/2018/11/07/dubbo-integrates-with-nacos-to-become-a-registry/>Use Dubbo with Nacos</a>
<a id=m-blog20181005introduction-to-the-dubbo-protocol href=/blog/2018/10/05/introduction-to-the-dubbo-protocol/>Introduction to the Dubbo protocol</a>
<a id=m-blog20180930integrate-dubbo-with-kubernetes href=/blog/2018/09/30/integrate-dubbo-with-kubernetes/>Integrate Dubbo with Kubernetes</a>
<a id=m-blog20180902how-to-prepare-an-apache-release href=/blog/2018/09/02/how-to-prepare-an-apache-release/>How to prepare an Apache Release</a>
<a id=m-blog20180902how-to-implement-a-fully-asynchronous-calls-chain-based-on-dubbo href=/blog/2018/09/02/how-to-implement-a-fully-asynchronous-calls-chain-based-on-dubbo/>New Async Call</a>
<a id=m-blog20180826the-fourth-dubbo-meetup-has-been-held-in-chengdu href=/blog/2018/08/26/the-fourth-dubbo-meetup-has-been-held-in-chengdu/>The fourth Dubbo meetup</a>
<a id=m-blog20180814dubbo-basic-usage-dubbo-consumer-configuration href=/blog/2018/08/14/dubbo-basic-usage-dubbo-consumer-configuration/>Dubbo Consumer Configuration</a>
<a id=m-blog20180814dubbo-several-ways-about-synchronousasynchronous-invoke href=/blog/2018/08/14/dubbo-several-ways-about-synchronous/asynchronous-invoke/>Dubbo Invoke</a>
<a id=m-blog20180814dubbo-basic-usage-dubbo-provider-configuration class=active2 href=/blog/2018/08/14/dubbo-basic-usage-dubbo-provider-configuration/>Dubbo Provider Configuration</a>
<a id=m-blog20180814manipulating-services-dynamically-via-qos href=/blog/2018/08/14/manipulating-services-dynamically-via-qos/>Dubbo QoS Introduction</a>
<a id=m-blog20180814source-code-analysis-of-spring-boot-dubbo-app-start-and-stop href=/blog/2018/08/14/source-code-analysis-of-spring-boot-dubbo-app-start-and-stop/>Dubbo start/stop in spring boot</a>
<a id=m-blog20180814implementation-of-cross-language-calls-by-dubbo2js href=/blog/2018/08/14/implementation-of-cross-language-calls-by-dubbo2.js/>dubbo2.js introduction</a>
<a id=m-blog20180814generic-invoke-of-dubbo href=/blog/2018/08/14/generic-invoke-of-dubbo/>Generic invoke</a>
<a id=m-blog20180810dubbos-load-balance href=/blog/2018/08/10/dubbos-load-balance/>Dubbo's Load Balance</a>
<a id=m-blog20180807use-annotations-in-dubbo href=/blog/2018/08/07/use-annotations-in-dubbo/>Use Annotations In Dubbo</a>
<a id=m-blog20180807using-zookeeper-in-dubbo href=/blog/2018/08/07/using-zookeeper-in-dubbo/>Using Zookeeper in Dubbo</a>
<a id=m-blog20180807dubbo-101 href=/blog/2018/08/07/dubbo-101/>Your First Dubbo Demo</a>
<a id=m-blog20180730the-third-dubbo-meetup-has-been-held-in-shenzhen href=/blog/2018/07/30/the-third-dubbo-meetup-has-been-held-in-shenzhen/>The third Dubbo meetup</a>
<a id=m-blog20180727sentinel-the-flow-sentinel-of-dubbo-services href=/blog/2018/07/27/sentinel-the-flow-sentinel-of-dubbo-services/>Introduce sentinel</a>
<a id=m-blog20180712tracking-with-pinpoint href=/blog/2018/07/12/tracking-with-pinpoint/>Tracking with Pinpoint</a>
<a id=m-blog20180701your-first-dubbo-filter href=/blog/2018/07/01/your-first-dubbo-filter/>Your First Dubbo Filter</a>
<a id=m-blog20180623the-second-dubbo-shanghai-meetup-has-been-held-successfully href=/blog/2018/06/23/the-second-dubbo-shanghai-meetup-has-been-held-successfully/>The second Dubbo meetup</a>
<a id=m-blog20180512the-first-dubbo-meetup-has-been-held-in-beijing href=/blog/2018/05/12/the-first-dubbo-meetup-has-been-held-in-beijing/>The first Dubbo meetup</a>
<a id=m-blog20180502the-apachecon-na-schedule-has-been-announced href=/blog/2018/05/02/the-apachecon-na-schedule-has-been-announced/>ApacheCon NA</a>
<a id=m-blog20180425the-gsocgoogle-summer-of-code-2018 href=/blog/2018/04/25/the-gsocgoogle-summer-of-code-2018/>GSoC 2018</a>
<a id=m-blog20180422dubbo-roadmap-is-announced-in-qcon-beijing-2018 href=/blog/2018/04/22/dubbo-roadmap-is-announced-in-qcon-beijing-2018/>QCon Beijing 2018</a></li></ul></ul><ul><li><a href=/blog/releases/>Releases</a></li><ul><li class=collapse id=blogreleases><a id=m-blog20200518past-releases href=/blog/2020/05/18/past-releases/>Past Releases</a></li></ul></ul></li></ul></ul></div><script>$(function(){$("#sidebarConsoleBtn").click(function(){$("#sidebarContent").toggle();});});</script></div><div class="col-md-2 blogDocToc"><div class=td-page-meta><a href="https://github.com/nacos-group/nacos-group.github.io/issues/new?title=Dubbo%20Basic%20Usage%20--%20Dubbo%20Provider%20Configuration" target=_blank><i class="fa fa-github fa-fw"></i>Create documentation issue</a>
<a href=https://github.com/alibaba/nacos/issues/new target=_blank><i class="fa fa-tasks fa-fw"></i>Create project issue</a></div><nav id=TableOfContents><ul><li><a href=#dubbo-provider-configuration>Dubbo Provider Configuration</a><ul><li><a href=#provider-configuration-in-detail>Provider Configuration in Detail</a></li><li><a href=#provider-interface-and-implement>Provider Interface and Implement</a></li></ul></li></ul></nav></div><div class=row><div class=col-md-2></div><div class="col-md-8 blogDocContent"><main role=main><a class="btn btn-lg rssIcon" href=/blog/news/index.xml target=_blank>RSS <i class="fa fa-rss ml-2"></i></a><div class=row><div class=col-md-2><ul></ul></div><div class=col-md-10></div></div><div class=td-content><h1>Dubbo Basic Usage -- Dubbo Provider Configuration</h1><div class=lead>This article will introduce you how to config Dubbo, by XML, property files, annotations or Java code.</div><div class="td-byline mb-4"><time datetime=2018-08-14 class=text-muted>Tuesday, August 14, 2018</time></div><p>This chapter mainly talking about how to configure dubbo. According to the configuration mode, it can be divided into the following mode: XML Configuration, Properties Configuration, Annotation Configuration, API Invocation Mode Configuration. And according to the function, we can divide them into Dubbo Provider and Dubbo Consumer. In the following sections, we would explain Dubbo Provider and Dubbo Consumer respectively.</p><h2 id=dubbo-provider-configuration>Dubbo Provider Configuration</h2><h3 id=provider-configuration-in-detail>Provider Configuration in Detail</h3><p>The configuration mode of Dubbo Provider has 4 different ways: XML Configuration, Properties Configuration, API Invocation Mode Configuration and Annotation Configuration.</p><h4 id=xml-configuration>XML Configuration</h4><h6 id=the-simplest-configuration-example>The simplest configuration example：</h6><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34;
    xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
    xmlns:dubbo=&#34;http://dubbo.apache.org/schema/dubbo&#34;
    xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd&#34;&gt;  
    &lt;dubbo:application name=&#34;hello-world-app&#34; /&gt;  
    &lt;dubbo:registry address=&#34;multicast://224.5.6.7:1234&#34; /&gt;  
    &lt;dubbo:protocol name=&#34;dubbo&#34; port=&#34;20880&#34; /&gt;  
    &lt;dubbo:service interface=&#34;com.alibaba.dubbo.demo.DemoService&#34; ref=&#34;demoServiceLocal&#34; /&gt;  
    &lt;dubbo:reference id=&#34;demoServiceRemote&#34; interface=&#34;com.alibaba.dubbo.demo.DemoService&#34; /&gt;  
&lt;/beans&gt;
</code></pre></div><p>In the example above，note the way to write dubbo schema：</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&lt;beans xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
       xmlns:dubbo=&#34;http://code.alibabatech.com/schema/dubbo&#34;
       xmlns=&#34;http://www.springframework.org/schema/beans&#34;
       xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd
       http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&#34;&gt;
</code></pre></div><h6 id=supported-configuration-tags>Supported Configuration Tags</h6><table><thead><tr><th>Tags</th><th>Application</th><th style=text-align:left>Describe</th></tr></thead><tbody><tr><td>&lt;dubbo:service/></td><td>Service Configuration</td><td style=text-align:left>Expose a service, define the meta information of the service. One service can use multiple protocols to expose and can be registered to multiple registry centers</td></tr><tr><td>&lt;dubbo:reference/></td><td>Reference Configuration</td><td style=text-align:left>Create a remote service agent, one reference can point to multiple registry centers</td></tr><tr><td>&lt;dubbo:protocol/></td><td>Protocol Configuration</td><td style=text-align:left>Configure protocol information for providing services, protocol is specified by the provider and accepted passively by the consumer</td></tr><tr><td>&lt;dubbo:application/></td><td>Application Configuration</td><td style=text-align:left>Configure current application information, regardless of whether the application is provider or consumer</td></tr><tr><td>&lt;dubbo:module/></td><td>Module Configuration</td><td style=text-align:left>Configure current module information. Optional</td></tr><tr><td>&lt;dubbo:registry/></td><td>Registry Center Configuration</td><td style=text-align:left>Configure information related to connect registry centers</td></tr><tr><td>&lt;dubbo:monitor/></td><td>Monitoring Center Configuration</td><td style=text-align:left>Configure information related to connect monitor centers. Optional</td></tr><tr><td>&lt;dubbo:provider/></td><td>Provider Configuration</td><td style=text-align:left>When some properties ProtocolConfig or ServiceConfig are not configured, use this default value. Optional</td></tr><tr><td>&lt;dubbo:consumer/></td><td>Consumer Configuration</td><td style=text-align:left>When some properties of ReferenceConfig are not configured, use this default value. Optional</td></tr><tr><td>&lt;dubbo:method/></td><td>Method Configuration</td><td style=text-align:left>Configure specific method level information of ServiceConfig and ReferenceConfig</td></tr><tr><td>&lt;dubbo:argument/></td><td>Parameter Configuration</td><td style=text-align:left>Configure parameters of specific method</td></tr></tbody></table><p><img src=/imgs/user/dubbo-config.jpg alt=undefined></p><p>Configuration Diagram</p><h6 id=configuration-item-in-detail>Configuration item in detail</h6><ul><li><p>&lt;dubbo:application name=&ldquo;hello-world-app&rdquo; /><br>Apply to specific application name, note that you need to make sure that the application name is unique. The application name can be displayed in the following console admin for easy management.</p></li><li><p>&lt;dubbo:registry address=&ldquo;multicast://224.5.6.7:1234&rdquo; /><br>Configure registry center, related to the specific mechanism of service discovery. It can be zookeeper address or eureka address. The address above is the broadcast address, which is very convenient in the test process of the local service invocation.</p></li><li><p>&lt;dubbo:protocol name=&ldquo;dubbo&rdquo; port=&ldquo;20880&rdquo; /><br>Here is the transport protocol and the default port, generally no changes are required.</p></li></ul><blockquote><p>Next, we will focus on the configuration of &lt;dubbo:service/></p></blockquote><ul><li>&lt;dubbo:service/>mainly supports the following properties：</li></ul><table><thead><tr><th>Properties Name</th><th>Description</th></tr></thead><tbody><tr><td>version</td><td>Version number</td></tr><tr><td>scope</td><td>Service visibility, value can be local or remote，remote by default</td></tr><tr><td>actives</td><td>Maximum number of activated requests</td></tr><tr><td>async</td><td>Whether the method called asynchronously，false by default</td></tr><tr><td>cache</td><td>Service cache，optional value：lru/threadlocal/jcache</td></tr><tr><td>callbacks</td><td>Limitation of callback instance</td></tr><tr><td>generic</td><td>Generalized calls which can be bypassed</td></tr><tr><td>class</td><td>The implementation of the service&rsquo;s class name</td></tr><tr><td>connections</td><td>The number of connections in the service</td></tr><tr><td>delay</td><td>The number of milliseconds delay for publicating the service</td></tr><tr><td>executes</td><td>Upper bound of service execution requests</td></tr><tr><td>retries</td><td>Timeout retry times</td></tr><tr><td>timeout</td><td>Invocation timeout time</td></tr></tbody></table><p>For other configuration properties, please refer to xsd：http://dubbo.apache.org/schema/dubbo/dubbo.xsd</p><ul><li>&lt;dubbo:method/> as the sub-element of &lt;dubbo:service/> can be configured corresponding to method. Properties that are commonly used are：</li></ul><table><thead><tr><th>Properties Name</th><th>Description</th></tr></thead><tbody><tr><td>executes</td><td>Upper bound of service execution requests</td></tr><tr><td>retries</td><td>Timeout retry times</td></tr><tr><td>timeout</td><td>Invocation timeout time</td></tr></tbody></table><p>For other properties，you can refer to xsd above。</p><h6 id=configuration-override-relationship>Configuration Override Relationship</h6><p><img src=/imgs/user/dubbo-config-override.jpg alt=undefined></p><p>Configuration Coverage Relationship Diagram</p><p>The Override relationship here includes the configuration of both provider end and consumer end. If you have any questions about consumer, you can refer to the next chapter, consumer chapter, to understand.</p><h4 id=dubboproperties-configuration>dubbo.properties Configuration</h4><blockquote><p>If the public configuration is very simple, no multiple registry centers, no multiple protocols, etc., or if you want multiple Spring containers to share the configuration, you can use dubbo.properties as the default configurations.</p></blockquote><p>Dubbo would load dubbo.properties under the classpath root directory automaticaly，you can change the default configuration location by JVM startup parameter -Ddubbo.properties.file=xxx.properties.</p><h6 id=dubboproperties-configuration-example>dubbo.properties Configuration example</h6><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback># application name
dubbo.application.name=dubbodemo-provider
# registry center address
dubbo.registry.address=zookeeper://localhost:2181
# Example of broadcasting registry center
#dubbo.registry.address=multicast://224.5.6.7:1234
# address for calling protocol
dubbo.protocol.name=dubbo
dubbo.protocol.port=28080
</code></pre></div><h6 id=mapping-rule>Mapping Rule</h6><p>Split the tag name and properties in XML configuration with dots, and multiple properties should be split into multiple lines</p><ul><li>For example: dubbo.application.name=foo equivalents to &lt;dubbo:application name=&ldquo;foo&rdquo; /></li><li>For example: dubbo.registry.address=10.20.153.10:9090 equivalents to &lt;dubbo:registry address=&ldquo;10.20.153.10:9090&rdquo; /></li></ul><p>If there are multiple configurations having the same tag name, they can be distinguished by id, and if there is no id, the configurations will be applied to all tags with the same name.</p><ul><li>For example: dubbo.protocol.rmi.port=1234 equivalents to &lt;dubbo:protocol id=&ldquo;rmi&rdquo; name=&ldquo;rmi&rdquo; port=&ldquo;1234&rdquo; /></li><li>For example: dubbo.registry.china.address=10.20.153.10:9090 equivalents to &lt;dubbo:registry id=&ldquo;china&rdquo; address=&ldquo;10.20.153.10:9090&rdquo; /></li></ul><h6 id=coverage-strategy>Coverage Strategy</h6><p><img src=/imgs/user/dubbo-config.jpg alt=undefined></p><ul><li>When JVM starts, -D parameter has priority, so that users can rewrite the parameters when deploy and start, for example, the protocol port should be changed when start.</li><li>Then comes to XML, the configurations in dubbo.properties are invalid, if they are configured in XML.</li><li>Properties are the last, which can be considered as default value. Only when there is no configuration in XML, the corresponding configuarations in dubbo.properties will become effective, which usually applies to shared public configuration, like application name.</li></ul><blockquote><p>Note:</p></blockquote><ol><li>If there are multiple dubbo.properties in the classpath root directory, for example, if dubbo.properties exist in multiple JAR files, Dubbo will load anyone arbitrarily and print the Error logs, which may change to throwing exceptions later.↩</li><li>When the protocol&rsquo;s id is not configured, protocol name will be used as id as default.</li></ol><h4 id=annotation>Annotation</h4><h6 id=service-annotation-exposure-service>Service Annotation Exposure Service</h6><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>import com.alibaba.dubbo.config.annotation.Service;

@Service(timeout = 5000)
public class AnnotateServiceImpl implements AnnotateService { 
    // ...
}
</code></pre></div><h6 id=javaconfig-configuration-public-module>Javaconfig Configuration Public Module</h6><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>@Configuration
public class DubboConfiguration {

    @Bean
    public ApplicationConfig applicationConfig() {
        ApplicationConfig applicationConfig = new ApplicationConfig();
        applicationConfig.setName(&#34;provider-test&#34;);
        return applicationConfig;
    }

    @Bean
    public RegistryConfig registryConfig() {
        RegistryConfig registryConfig = new RegistryConfig();
        registryConfig.setAddress(&#34;zookeeper://127.0.0.1:2181&#34;);
        registryConfig.setClient(&#34;curator&#34;);
        return registryConfig;
    }
}
</code></pre></div><p>The result of configuration using this method is the same as that of using xml.</p><h6 id=specify-the-dubbo-scan-path>Specify the Dubbo Scan Path</h6><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>@SpringBootApplication
@DubboComponentScan(basePackages = &#34;com.alibaba.dubbo.test.service.impl&#34;)
public class ProviderTestApp {
    // ...
}
</code></pre></div><p>or use the spring bean xml configuration:</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&lt;dubbo:annotation package=&#34;com.chanshuyi.service.impl&#34; /&gt;
</code></pre></div><h4 id=api-trigger-directly>API Trigger Directly</h4><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>import com.alibaba.dubbo.rpc.config.ApplicationConfig;
import com.alibaba.dubbo.rpc.config.RegistryConfig;
import com.alibaba.dubbo.rpc.config.ProviderConfig;
import com.alibaba.dubbo.rpc.config.ServiceConfig;
import com.xxx.XxxService;
import com.xxx.XxxServiceImpl;

// Service implementation
XxxService xxxService = new XxxServiceImpl();

// current application configuration
ApplicationConfig application = new ApplicationConfig();
application.setName(&#34;xxx&#34;);

// connect to registry center configuration
RegistryConfig registry = new RegistryConfig();
registry.setAddress(&#34;10.20.130.230:9090&#34;);
registry.setUsername(&#34;aaa&#34;);
registry.setPassword(&#34;bbb&#34;);

// service provider&#39;s protocol configuration
ProtocolConfig protocol = new ProtocolConfig();
protocol.setName(&#34;dubbo&#34;);
protocol.setPort(12345);
protocol.setThreads(200);

// Note: ServiceConfig is a heavy object, which encapsulated the connection with registry center internally, and open the service port

// Service provider exposes service configuration
ServiceConfig&lt;XxxService&gt; service = new ServiceConfig&lt;XxxService&gt;(); // This instance is very heavy, which encapsulated the connection with registry center, please cache it by yourself, it might cause memory and connection leakage otherwise.
service.setApplication(application);
service.setRegistry(registry); // multiple registry centers can use setRegistries()
service.setProtocol(protocol); // multiple protocols can use setProtocols()
service.setInterface(XxxService.class);
service.setRef(xxxService);
service.setVersion(&#34;1.0.0&#34;);

// exposure and register service
service.export();
</code></pre></div><p>Generally, this method is not recommended in spring applications. The reason can be checked by reading the source code on github, which would not be explained here.</p><h3 id=provider-interface-and-implement>Provider Interface and Implement</h3><p>The above chapters are described mainly from a configuration perspective, and lets explain the complete use of Dubbo provider by going through a complete example.</p><p>There is only one service UserReadService, and one method getUserById in this example.
This service need to be exposed to a remote service by Dubbo. Detail steps are shown below:</p><ol><li>Create Project
Skip this step if there is already a project. Create a Spring Boot project, which can be created through <a href=https://start.spring.io/>https://start.spring.io/</a>.</li><li>Define Interface
Define interface: UserReadService</li></ol><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>public interface UserReadService{
    public User getUserById(Long userId);
}
</code></pre></div><p>Generally, this interface should be placed in an independent JAR file as a client package.
Generally, the other services need to refer this client package if they want to consume this service(except for generalized call).
3. Implement Interface
Implement UserReadService, and deploy current implementation in the Provider&rsquo;s application.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>public UserReadServiceImpl implements UserReadService{
    public User getUserById(Long userId){
        return xxx;
    }
}
</code></pre></div><ol start=4><li>Dubbo Configuration</li></ol><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;
&lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34;
    xmlns:xsi=&#34;http://www.w3.org/2001/XMLSchema-instance&#34;
    xmlns:dubbo=&#34;http://dubbo.apache.org/schema/dubbo&#34;
    xsi:schemaLocation=&#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd&#34;&gt;  
    &lt;dubbo:application name=&#34;hello-world-app&#34; /&gt;  
    &lt;dubbo:registry address=&#34;multicast://224.5.6.7:1234&#34; /&gt;  
    &lt;dubbo:protocol name=&#34;dubbo&#34; port=&#34;20880&#34; /&gt;  
    &lt;bean id=&#34;userReadService&#34; class=&#34;com.package.UserReadServiceImpl&#34;/&gt;
    &lt;dubbo:service interface=&#34;com.package.UserReadService&#34; ref=&#34;userReadService&#34; /&gt;  
&lt;/beans&gt;
</code></pre></div><p>For the other modes of Dubbo configuration, please refer to the related configurations in the previous chapter, or use the integrated Dubbo Spring Boot starter method.</p></div></main></div><div class=col-md-2></div></div></section><footer id=footer role=contentinfo><div class=container><img src=/images/nacos_gray.png><div class=row><div class=col-md-6><h3>Vision</h3><p>By providing an easy-to-use service infrastructure such as dynamic service
discovery, service configuration, service sharing and management and etc., Nacos help users better
construct, deliver and manage their own service platform, reuse and composite business service
faster and deliver value of business innovation more quickly so as to win market for users in the
era of cloud native and in all cloud environments, such as private, mixed, or public clouds.</p></div><div class=col-md-3><dl><dt>Documentation</dt><dd><a href=/en-us/docs/what-is-nacos.html target=_self>Overview</a></dd><dd><a href=/en-us/docs/quick-start.html target=_self>Quick start</a></dd><dd><a href=/en-us/docs/contributing.html target=_self>Developer guide</a></dd></dl></div><div class=col-md-3><dl><dt>Resources</dt><dd><a href=/en-us/community/index.html target=_self>Community</a></dd><dd><a href="https://cn.aliyun.com/product/aliware/mse?spm=nacos-website.topbar.0.0.0" target=_self>Cloud Service MSE</a></dd><dd><a href="https://www.aliyun.com/product/edas?source_type=nacos_pc_20181219" target=_self>Cloud Service EDAS</a></dd><dd><a href="https://www.aliyun.com/product/ahas?source_type=nacos_pc_20190225" target=_self>Cloud Service AHAS</a></dd></dl></div></div><div class="col-md-12 text-center copyright"><span>© 2018 The Nacos Authors | An Alibaba Middleware (Aliware) Project</span></div></div></footer></body><script type=text/javascript>;(function(){$('#fh5co-header').addClass('navbar-fixed-top fh5co-animated slideInDown');$('#nacosLogo').attr("src","/images/nacos_colorful.png")}());</script></html>